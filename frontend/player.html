<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classroom | Academia</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Outfit', 'sans-serif'], display: ['Space Grotesk', 'sans-serif'] },
                    colors: {
                        glass: { dark: 'rgba(15, 23, 42, 0.6)' },
                        neon: { blue: '#4F46E5', purple: '#A855F7', cyan: '#06B6D4' }
                    }
                }
            }
        }
    </script>
    <style>
        body { background: #0b0f19; color: #e2e8f0; overflow: hidden; }
        .ambient-bg { position: fixed; inset: 0; z-index: -1; background: radial-gradient(circle at 10% 10%, rgba(79, 70, 229, 0.15), transparent 30%); }
        
        /* Custom Scrollbar for Glass */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.2); }

        .glass-panel {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        
        .active-lesson {
            background: rgba(168, 85, 247, 0.1);
            border-left: 3px solid #A855F7;
        }
    </style>
</head>
<body class="flex flex-col h-screen">
    
    <div class="ambient-bg"></div>

    <!-- Top Bar -->
    <header class="h-16 border-b border-white/10 flex items-center justify-between px-6 bg-black/20 backdrop-blur-lg shrink-0 z-20">
        <div class="flex items-center gap-4">
            <a href="courses.html" class="w-8 h-8 rounded-full bg-white/5 flex items-center justify-center hover:bg-white/10 transition-colors">
                <i data-lucide="arrow-left" class="w-4 h-4 text-gray-400"></i>
            </a>
            <span class="h-6 w-px bg-white/10"></span>
            <span id="course-title" class="font-display font-medium text-white tracking-wide">Loading...</span>
        </div>
        <div>
            <div class="text-xs font-bold text-gray-500 uppercase tracking-widest bg-white/5 px-3 py-1 rounded-full border border-white/5">
                Classroom Mode
            </div>
        </div>
    </header>

    <!-- Main Workspace -->
    <div class="flex-1 flex overflow-hidden">
        
        <!-- Sidebar Navigation (Syllabus) -->
        <aside class="w-80 border-r border-white/5 bg-black/20 backdrop-blur-md flex flex-col z-10 hidden md:flex">
             <div class="p-4 border-b border-white/5">
                <h3 class="text-xs font-bold text-gray-500 uppercase tracking-widest">Syllabus</h3>
            </div>
            <div id="playlist" class="flex-1 overflow-y-auto p-2 space-y-1">
                <!-- Injected Items -->
            </div>
        </aside>

        <!-- Stage -->
        <main class="flex-1 overflow-y-auto relative flex flex-col">
            
            <!-- Video Frame -->
            <div class="w-full bg-black aspect-video relative shadow-2xl flex items-center justify-center border-b border-white/10">
                 <div id="video-container" class="w-full h-full relative z-10">
                    <iframe id="youtube-player" class="w-full h-full" src="" frameborder="0" allowfullscreen></iframe>
                    <!-- Empty State -->
                    <div id="placeholder" class="absolute inset-0 flex flex-col items-center justify-center bg-black/80 backdrop-blur-sm z-20">
                        <div class="p-4 rounded-full bg-white/5 mb-4 animate-pulse"><i data-lucide="play" class="w-8 h-8 text-gray-500"></i></div>
                        <p class="font-display text-gray-400 tracking-wide">Select a module from the sidebar</p>
                    </div>
                 </div>
            </div>

            <!-- Content Deck -->
            <div class="p-8 max-w-5xl mx-auto w-full">
                
                <div class="flex justify-between items-start mb-8 pb-4 border-b border-white/5">
                    <div>
                        <h1 id="lesson-title" class="text-3xl font-display font-bold text-white mb-2">Welcome</h1>
                        <p class="text-gray-400 text-sm">Watch the video to begin.</p>
                    </div>
                    <button id="download-notes-btn" onclick="downloadNotes()" class="hidden glass-panel px-4 py-2 rounded-lg text-sm font-medium hover:bg-neon-blue/20 hover:border-neon-blue/50 transition-all flex items-center gap-2">
                        <i data-lucide="download" class="w-4 h-4"></i> Notes PDF
                    </button>
                </div>

                <!-- Tabs -->
                <div class="flex gap-6 border-b border-white/5 mb-8">
                    <button class="pb-3 border-b-2 border-neon-cyan text-white text-sm font-medium">Lecture Notes</button>
                    <button class="pb-3 border-b-2 border-transparent text-gray-500 hover:text-white transition-colors text-sm font-medium">Discussion</button>
                </div>

                <!-- Notes Content -->
                <div id="lesson-notes" class="prose prose-invert max-w-none prose-headings:font-display prose-a:text-neon-cyan">
                    <p class="text-gray-500 italic">No notes loaded.</p>
                </div>

            </div>
        </main>

    </div>

    <!-- Mobile Drawer Toggle -->
    <button id="mobile-menu-btn" class="md:hidden fixed bottom-6 right-6 w-14 h-14 bg-neon-purple rounded-full flex items-center justify-center shadow-lg shadow-neon-purple/30 z-50 text-white hover:scale-110 transition-transform">
        <i data-lucide="list-video" class="w-6 h-6"></i>
    </button>
    
    <!-- Mobile Slide Overlay -->
    <div id="mobile-sidebar-overlay" class="fixed inset-0 bg-black/80 z-20 hidden backdrop-blur-sm md:hidden" onclick="toggleMobileSidebar()"></div>

    <script>
        const sidebar = document.querySelector('aside');
        const overlay = document.getElementById('mobile-sidebar-overlay');
        const btn = document.getElementById('mobile-menu-btn');
        
        function toggleMobileSidebar() {
            const isHidden = sidebar.classList.contains('hidden');
            if (isHidden) {
                // Open
                sidebar.classList.remove('hidden');
                sidebar.classList.add('fixed', 'inset-y-0', 'left-0', 'z-30', 'w-3/4', 'glass-panel');
                overlay.classList.remove('hidden');
            } else {
                // Close
                sidebar.classList.add('hidden');
                sidebar.classList.remove('fixed', 'inset-y-0', 'left-0', 'z-30', 'w-3/4', 'glass-panel');
                overlay.classList.add('hidden');
            }
        }
        
        btn.onclick = toggleMobileSidebar;
    </script>

    <script src="./js/config.js"></script>
    <script src="./js/notifications.js"></script>
    <script src="./js/player.js"></script>
    <script>
        lucide.createIcons();
        // Override playlist rendering function for Glass Theme
        
        // This is a "monkey patch" since we are reusing player.js logic but want different DOM output.
        // ideally we would refactor player.js, but since I cannot edit it easily without breaking logic, 
        // I will rely on the CSS classes 'active-lesson' matching what player.js toggles, 
        // OR re-implement the render logic here briefly if needed.
        
        // Wait for player.js to load data then re-style if needed.
    </script>
</body>
</html>
